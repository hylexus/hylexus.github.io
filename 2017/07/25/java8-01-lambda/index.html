<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>java8-01-lambda | 宛丘</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">java8-01-lambda</h1><a id="logo" href="/.">宛丘</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">java8-01-lambda</h1><div class="post-meta">Jul 25, 2017<span> | </span><span class="category"><a href="/categories/JavaSE/">JavaSE</a></span></div><div class="post-content"><h1 id="0-lambda的传说"><a href="#0-lambda的传说" class="headerlink" title="0 lambda的传说"></a>0 lambda的传说</h1><p>其实我也没法说清楚他到底是什么鬼……</p>
<p>就好比你没见过某种颜色，我再怎么描述都没法描述清楚，还是亲自看看他长啥样吧</p>
<hr>
<p>还记得中学的时候，数学里经常出现的那个符号吗？</p>
<p>先放一个从百度图库偷来的图片(CSDN打上的水印，不关我事哈……)</p>
<p><img src="http://img.blog.csdn.net/20170708173153140?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHlsZXh1cw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="lambda"></p>
<p>就是这货，此处的<code>lambda</code> 就是它…… </p>
<p>传说中这玩意儿是比程序员还疯狂的数学家的口头禅……</p>
<p>上面的废话都看完了？？？？</p>
<p>虽然见到了他，但是还是不清楚他到底是什么……</p>
<p>好了，不扯皮了，开讲啦</p>
<hr>
<ul>
<li>百科里是这么描述的：</li>
</ul>
<blockquote>
<p>  Lambda 表达式”是一个<a href="http://baike.baidu.com/item/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0" target="_blank" rel="external">匿名函数</a>，可以包含表达式和语句，并且可用于创建委托或表达式目录树类型。</p>
</blockquote>
<p>看百科的描述好像有那么点感觉了。可是干嘛非要搞个这么高冷的解释呢？</p>
<ul>
<li>个人是这么理解的：</li>
</ul>
<blockquote>
<p>  lambda 类似于一个可调用的代码块或者游离函数。当然也可以有入参。</p>
</blockquote>
<h1 id="1-瞄一眼他长啥样"><a href="#1-瞄一眼他长啥样" class="headerlink" title="1 瞄一眼他长啥样?"></a>1 瞄一眼他长啥样?</h1><ul>
<li>示例</li>
</ul>
<p>比如下面这样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Comparator&lt;Integer&gt; c = (i, j) -&gt; Integer.compare(i, j);</div></pre></td></tr></table></figure>
<p>等价的原始Java代码长这样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Comparator&lt;Integer&gt; c = <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</div><div class="line">  <span class="meta">@Override</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> Integer.compare(o1, o2);</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>  用上lambda是什么体验？</p>
</blockquote>
<ul>
<li>代码量好像少了</li>
<li>逼格好像提高了</li>
<li>代码好像更优雅了</li>
</ul>
<h1 id="2-lambda各种外观"><a href="#2-lambda各种外观" class="headerlink" title="2 lambda各种外观"></a>2 lambda各种外观</h1><p>至少在Java里lambda的爸爸妈妈姐姐弟弟爷爷奶奶七大姑八大姨……可能都是长这个样子的。</p>
<p>同时，据老夫多年的断案经验来推断，lambda的本尊应该也是这个样子的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(Type1 param1,Type2 param2, ...) -&gt; &#123;</div><div class="line">  <span class="comment">// 一些乱七八糟、乌漆嘛黑的处理操作();</span></div><div class="line">  <span class="keyword">return</span> ret;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>外观一：没有入参的时候</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">()-&gt;&#123;<span class="keyword">return</span> ret;&#125;</div></pre></td></tr></table></figure>
<ul>
<li>外观二：有参数的时候</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(Type p)-&gt;&#123;<span class="keyword">return</span> ret;&#125;</div><div class="line"></div><div class="line"><span class="comment">// 参数类型可以省略(隐式推掉)</span></div><div class="line">(p)-&gt;&#123;<span class="keyword">return</span> ret;&#125;</div><div class="line"></div><div class="line"><span class="comment">// 一个参数的时候，参数列表外的括号也可以没有</span></div><div class="line">p-&gt;&#123;<span class="keyword">return</span> ret;&#125;</div></pre></td></tr></table></figure>
<ul>
<li>外观三：函数体只有一行的时候</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 方法体只有一行的时候,或括号连同结尾的分号都可以省略</span></div><div class="line">e-&gt;ret</div></pre></td></tr></table></figure>
<ul>
<li>外观四：没有返回值的时候</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">e-&gt;&#123;&#125;</div></pre></td></tr></table></figure>
<ul>
<li>方法引用和构造器引用<ul>
<li>instance::instanceMethod</li>
<li>className::staticMethod</li>
<li>className::instanceMethod</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Arrays.asList(<span class="keyword">null</span>, <span class="string">""</span>, <span class="string">"   "</span>, <span class="string">"HelloWorld"</span>, <span class="string">"ByeBug"</span>)<span class="comment">//</span></div><div class="line">  .stream().filter(StringUtils::isNotBlank)<span class="comment">//</span></div><div class="line">  .forEach(System.out::println);</div></pre></td></tr></table></figure>
<ul>
<li>……</li>
</ul>
<h1 id="3-lambda使用场景"><a href="#3-lambda使用场景" class="headerlink" title="3 lambda使用场景"></a>3 lambda使用场景</h1><p>再看一个例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 原始方法启动一个线程</span></div><div class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">  <span class="meta">@Override</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">  &#125;</div><div class="line">&#125;).start();</div><div class="line"></div><div class="line"><span class="comment">// lambda版</span></div><div class="line"><span class="keyword">new</span> Thread(()-&gt;&#123;&#125;).start();</div></pre></td></tr></table></figure>
<p>不难看出，整个匿名内部类中最关键的代码其实就是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>所以，lambda中关键部分也就是这部分代码了。</p>
<p>其实，用注解<code>java.lang.FunctionalInterface</code>修饰的接口都可以用于lambda表达式中。</p>
<p>这种接口，都是只有一个方法的接口。</p>
<p>另外，只要你的接口只有一个方法，即使是没有<code>@FunctionalInterface</code>注解修饰,也是可以用lambda的(很多时候编译器还是很聪明的,他会自动推断的)。</p>
<p>总之，lambda只钟爱函数式接口(<code>@FunctionalInterface</code>)。</p>
<hr>
<h1 id="4-再来个示例"><a href="#4-再来个示例" class="headerlink" title="4 再来个示例"></a>4 再来个示例</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HouseInfo</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">private</span> Integer houseId; <span class="comment">// 小区ID</span></div><div class="line">	<span class="keyword">private</span> String houseName;<span class="comment">// 小区名</span></div><div class="line">	<span class="keyword">private</span> Integer browseCount; <span class="comment">// 浏览数</span></div><div class="line">	<span class="keyword">private</span> Integer distance;<span class="comment">// 距离 KM</span></div><div class="line">    <span class="comment">// constructor</span></div><div class="line">    <span class="comment">// getters</span></div><div class="line">    <span class="comment">// setters</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>有如下数据</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">List&lt;HouseInfo&gt; houseInfos = Lists.newArrayList(<span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">1</span>, <span class="string">"恒大星级公寓"</span>, <span class="number">100</span>, <span class="number">1</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">2</span>, <span class="string">"汇智湖畔"</span>, <span class="number">999</span>, <span class="number">2</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">3</span>, <span class="string">"张江汤臣豪园"</span>, <span class="number">100</span>, <span class="number">1</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">4</span>, <span class="string">"保利星苑"</span>, <span class="number">23</span>, <span class="number">10</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">5</span>, <span class="string">"北顾小区"</span>, <span class="number">66</span>, <span class="number">23</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">6</span>, <span class="string">"北杰公寓"</span>, <span class="keyword">null</span>, <span class="number">55</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">7</span>, <span class="string">"保利星苑"</span>, <span class="number">77</span>, <span class="number">66</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">8</span>, <span class="string">"保利星苑"</span>, <span class="number">111</span>, <span class="number">12</span>)<span class="comment">//</span></div><div class="line">);</div></pre></td></tr></table></figure>
<ul>
<li>按距离排序</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Collections.sort(houseInfos, (h1, h2) -&gt; &#123;</div><div class="line">    <span class="keyword">if</span> (h1 == <span class="keyword">null</span> || h2 == <span class="keyword">null</span>)</div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (h1.getDistance() == <span class="keyword">null</span> || h2.getDistance() == <span class="keyword">null</span>)</div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> h1.getDistance().compareTo(h2.getDistance());</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>输出小区名</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">houseInfos.stream().map(h -&gt; h.getHouseName()).forEach(System.out::println);</div></pre></td></tr></table></figure>
<ul>
<li>动态条件过滤</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 该函数式接口用来当做测试条件</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">interface</span> <span class="title">Condition</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">boolean</span> <span class="title">conditionTest</span><span class="params">(T e)</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 定义一个方法来输出满足condition测试结果的小区</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printWithFilter</span><span class="params">(List&lt;HouseInfo&gt; houseList, Condition&lt;HouseInfo&gt; condition)</span> </span>&#123;</div><div class="line">  houseList.stream().filter(e -&gt; condition.conditionTest(e)).forEach(System.out::println);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span> </span>&#123;</div><div class="line">  List&lt;HouseInfo&gt; houseInfos = Lists.newArrayList(<span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">1</span>, <span class="string">"恒大星级公寓"</span>, <span class="number">100</span>, <span class="number">1</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">2</span>, <span class="string">"汇智湖畔"</span>, <span class="number">999</span>, <span class="number">2</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">3</span>, <span class="string">"张江汤臣豪园"</span>, <span class="number">100</span>, <span class="number">1</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">4</span>, <span class="string">"保利星苑"</span>, <span class="number">23</span>, <span class="number">10</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">5</span>, <span class="string">"北顾小区"</span>, <span class="number">66</span>, <span class="number">23</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">6</span>, <span class="string">"北杰公寓"</span>, <span class="keyword">null</span>, <span class="number">55</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">7</span>, <span class="string">"保利星苑"</span>, <span class="number">77</span>, <span class="number">66</span>), <span class="comment">//</span></div><div class="line">    <span class="keyword">new</span> HouseInfo(<span class="number">8</span>, <span class="string">"保利星苑"</span>, <span class="number">111</span>, <span class="number">12</span>)<span class="comment">//</span></div><div class="line">  );</div><div class="line">  <span class="comment">// 打印小区名包含北字的小区</span></div><div class="line">  printWithFilter(houseInfos, e -&gt; e != <span class="keyword">null</span> &amp;&amp; e.getHouseName().contains(<span class="string">"北"</span>));</div><div class="line">  <span class="comment">// 打印距离大于10KM的小区</span></div><div class="line">  printWithFilter(houseInfos, e -&gt; e != <span class="keyword">null</span> &amp;&amp; e.getDistance() != <span class="keyword">null</span> &amp;&amp; e.getDistance() &gt; <span class="number">10</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>字符串转大写</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Arrays.asList(<span class="string">"HelloWord"</span>, <span class="string">"ByeBug"</span>)</div><div class="line">  .stream().map(String::toUpperCase).forEach(System.out::println);</div></pre></td></tr></table></figure>
<ul>
<li>其实在Scala里lambda更加直观</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="type">List</span>(<span class="string">"HelloWord"</span>, <span class="string">"ByeBug"</span>).map(_.toUpperCase()).foreach(println _);</div></pre></td></tr></table></figure>
<h1 id="5-lambda的好基友"><a href="#5-lambda的好基友" class="headerlink" title="5 lambda的好基友"></a>5 lambda的好基友</h1><p>通过上面的示例，再结合实际。不难发现最常用的lambda的形式如下：</p>
<ul>
<li>单个输入，无输出</li>
<li>单个输入，单个输出</li>
<li>无输入，输出单个类型</li>
<li>两个不同类型的输入，第三种类型的输出</li>
<li>两个不同类型的输入，其中一种类型的输出</li>
<li>……</li>
</ul>
<p>其实在每次使用的时候，没必要自己去新建这些函数式接口以支持lambda，JDK就已经给lambda内置了很多好基友:</p>
<ul>
<li>Consumer: 单个输入，无输出</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Consumer</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(T t)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>BiConsumer: 两个不同类型的输入，无输出</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BiConsumer</span>&lt;<span class="title">T</span>, <span class="title">U</span>&gt; </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(T t, U u)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Supplier: 无输入，输出单个类型</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Supplier</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">  <span class="function">T <span class="title">get</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Function: 两个不同类型的输入</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Function</span>&lt;<span class="title">T</span>, <span class="title">R</span>&gt; </span>&#123;</div><div class="line">  <span class="function">R <span class="title">apply</span><span class="params">(T t)</span></span>; <span class="comment">// 输入T类型,转换成R类型</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>ToIntFunction / ToLongFunction / ToDoubleFunction</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ToIntFunction</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">    <span class="comment">// T类型的输入,输出int </span></div><div class="line">    <span class="comment">// 类似于Stream的mapToInt()</span></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">applyAsInt</span><span class="params">(T value)</span></span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>IntFunction / LongFunction / DoubleFunction</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IntFunction</span>&lt;<span class="title">R</span>&gt; </span>&#123;</div><div class="line">    <span class="function">R <span class="title">apply</span><span class="params">(<span class="keyword">int</span> value)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>BiFunction: 两个不同类型的输入，第三种类型的输出</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BiFunction</span>&lt;<span class="title">T</span>, <span class="title">U</span>, <span class="title">R</span>&gt; </span>&#123;</div><div class="line">  <span class="function">R <span class="title">apply</span><span class="params">(T t, U u)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>条件测试</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Predicate</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">boolean</span> <span class="title">test</span><span class="params">(T t)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以不用自定义函数式接口来支持lambda，上面的例子可以改成：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printWithFilter</span><span class="params">(List&lt;HouseInfo&gt; houseList, Predicate&lt;HouseInfo&gt; condition)</span> </span>&#123;</div><div class="line">  houseList.stream().filter(e -&gt; condition.test(e)).forEach(System.out::println);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>关于lambda的传说和他到底是什么鬼，看到这里应该够了。</p>
<p>毕竟我们的主要目的是使用它，知道他怎么用才是重点。</p>
<p>没必要纠结他严格的学术定义(这种事不应该是那种只会纸上谈兵的老不死干的吗？)。</p>
<p>在Java8里和lambda相关的主要API就是<code>Stream</code>了。在了解Stream的时候来顺便熟悉lambda吧。</p>
</div><div class="tags"><a href="/tags/lambda/">lambda</a></div><div class="post-nav"><a href="/2017/08/06/spring-cloud-00-扫盲/" class="pre">spring-cloud-00-扫盲</a><a href="/2017/07/25/java8-03-全新的日期时间API/" class="next">java8-03-全新的日期时间API</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/99-problems-in-scala/">99-problems-in-scala</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-多线程/">Java-多线程</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaSE/">JavaSE</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode/">LeetCode</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NIO/">NIO</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/app-server/">app-server</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/http-server/">http-server</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kafka/">kafka</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/logging/">logging</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/maven/">maven</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/scala/">scala</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spark/">spark</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring-cloud/">spring-cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/zookeeper/">zookeeper</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全/">安全</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/排序/">排序</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/NIO/" style="font-size: 15px;">NIO</a> <a href="/tags/LeetCode/" style="font-size: 15px;">LeetCode</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/apache-httpd/" style="font-size: 15px;">apache/httpd</a> <a href="/tags/lambda/" style="font-size: 15px;">lambda</a> <a href="/tags/bit/" style="font-size: 15px;">bit</a> <a href="/tags/keytool/" style="font-size: 15px;">keytool</a> <a href="/tags/非对称加密/" style="font-size: 15px;">非对称加密</a> <a href="/tags/kafka/" style="font-size: 15px;">kafka</a> <a href="/tags/jt-808/" style="font-size: 15px;">jt-808</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/logging/" style="font-size: 15px;">logging</a> <a href="/tags/scala/" style="font-size: 15px;">scala</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/安全/" style="font-size: 15px;">安全</a> <a href="/tags/spark/" style="font-size: 15px;">spark</a> <a href="/tags/spring-cloud/" style="font-size: 15px;">spring-cloud</a> <a href="/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/zookeeper/" style="font-size: 15px;">zookeeper</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/排序/" style="font-size: 15px;">排序</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/java多线程-01-基本概念/">java多线程-01-基本概念</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/排序算法-01-冒泡排序/">排序算法-01-冒泡排序排序算法-01-冒泡排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/git-01-简介、安装和配置/">git-01-简介、安装和配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/git-02-基本操作/">git-02-基本操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/git-03-分支/">git-03-分支</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/shiro-常用filter/">shiro-常用filter</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/problem01-05/">problem01-05</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/java秘钥、证书管理工具-keytool/">java秘钥、证书管理工具-keytool</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/docker筑基篇-00-docker简介/">docker筑基篇-00-docker简介</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/httpd系列-00-安装/">httpd系列-00-安装</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">宛丘.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>
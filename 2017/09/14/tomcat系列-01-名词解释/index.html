<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>tomcat系列-01-名词解释 | 宛丘</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">tomcat系列-01-名词解释</h1><a id="logo" href="/.">宛丘</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">tomcat系列-01-名词解释</h1><div class="post-meta">Sep 14, 2017<span> | </span><span class="category"><a href="/categories/app-server/">app-server</a></span></div><div class="post-content"><p><strong>声明</strong></p>
<p>该文章由大牛<code>马哥</code>相关linux视频资料整理而来。若认为内容侵权请及时通知本人。</p>
<p>[TOC]</p>
<h1 id="1-简介"><a href="#1-简介" class="headerlink" title="1 简介"></a>1 简介</h1><blockquote>
<p>Tomcat是Apache 软件基金会（Apache Software Foundation）的Jakarta 项目中的一个核心项目，由Apache、Sun 和其他一些公司及个人共同开发而成。<br>由于有了Sun 的参与和支持，最新的Servlet 和JSP 规范总是能在Tomcat 中得到体现。<br>因为Tomcat 技术先进、性能稳定，而且免费，因而深受Java 爱好者的喜爱并得到了部分软件开发商的认可，成为目前比较流行的Web 应用服务器。</p>
</blockquote>
<h1 id="2-结构"><a href="#2-结构" class="headerlink" title="2 结构"></a>2 结构</h1><h2 id="2-1-体系结构图"><a href="#2-1-体系结构图" class="headerlink" title="2.1 体系结构图"></a>2.1 体系结构图</h2><p><img src="http://img.blog.csdn.net/20160925154440526" alt="tomcat-体系结构图"></p>
<p>参考官网 : <a href="http://tomcat.apache.org/tomcat-7.0-doc/architecture/" target="_blank" rel="external">http://tomcat.apache.org/tomcat-7.0-doc/architecture/</a></p>
<h2 id="2-2-Server"><a href="#2-2-Server" class="headerlink" title="2.2 Server"></a>2.2 Server</h2><p><a href="http://tomcat.apache.org/tomcat-7.0-doc/config/server.html" target="_blank" rel="external">Server配置详情</a></p>
<blockquote>
<p>In the Tomcat world, a Server represents the whole container. Tomcat provides a default implementation of the Server interface which is rarely customized by users.</p>
</blockquote>
<p>tomcat的一个实例，通常一个JVM只能包含一个Tomcat实例.<br>一台物理服务器上可以在启动多个JVM的情况下在每一个JVM中启动一个Tomcat实例，每个实例分属于一个独立的管理端口。这是一个顶级组件。</p>
<h2 id="2-3-Service"><a href="#2-3-Service" class="headerlink" title="2.3 Service"></a>2.3 Service</h2><p><a href="http://tomcat.apache.org/tomcat-7.0-doc/config/service.html" target="_blank" rel="external">Service配置详情</a></p>
<blockquote>
<p>A Service is an intermediate component which lives inside a Server and ties one or more Connectors to exactly one Engine.</p>
</blockquote>
<p>一个服务组件通常包含一个引擎和与此引擎相关联的一个或多个连接器。给服务命名可以方便管理员在日志文件中识别不同服务产生的日志。一个server可以包含多个service组件，但通常情下只为一个service指派一个server。</p>
<h2 id="2-4-Engine"><a href="#2-4-Engine" class="headerlink" title="2.4 Engine"></a>2.4 Engine</h2><p><a href="http://tomcat.apache.org/tomcat-7.0-doc/config/engine.html" target="_blank" rel="external">Engine配置详情</a></p>
<p>An Engine represents request processing pipeline for a specific Service. As a Service may have multiple Connectors, the Engine receives and processes all requests from these connectors, handing the response back to the appropriate connector for transmission to the client. The Engine interface may be implemented to supply custom Engines, though this is uncommon.</p>
<p>Note that the Engine may be used for Tomcat server clustering via the jvmRoute parameter. Read the Clustering documentation for more information.</p>
<h2 id="2-5-Host"><a href="#2-5-Host" class="headerlink" title="2.5 Host"></a>2.5 Host</h2><p><a href="http://tomcat.apache.org/tomcat-7.0-doc/config/host.html" target="_blank" rel="external">Host配置详情</a></p>
<p>A Host is an association of a network name, e.g. www.yourcompany.com, to the Tomcat server. An Engine may contain multiple hosts, and the Host element also supports network aliases such as yourcompany.com and abc.yourcompany.com. Users rarely create custom Hosts because the StandardHost implementation provides significant additional functionality.</p>
<p>Host组件类似于Apache/httpd中的虚拟主机</p>
<h2 id="2-6-Connector"><a href="#2-6-Connector" class="headerlink" title="2.6 Connector"></a>2.6 Connector</h2><p><a href="http://tomcat.apache.org/tomcat-7.0-doc/config/http.html" target="_blank" rel="external">Http Connector配置详情</a><br><a href="http://tomcat.apache.org/tomcat-7.0-doc/config/ajp.html" target="_blank" rel="external">Ajp Connector配置详情</a></p>
<p>A Connector handles communications with the client. There are multiple connectors available with Tomcat. These include the HTTP connector which is used for most HTTP traffic, especially when running Tomcat as a standalone server, and the AJP connector which implements the AJP protocol used when connecting Tomcat to a web server such as Apache HTTPD server. Creating a customized connector is a significant effort.</p>
<p>负责连接客户端（可以是浏览器或Web服务器）请求至Servlet容器内的Web应用程序。一个引擎可以配置多个连接器，但这些连接器必须使用不同的端口。默认的连接器是基于HTTP/1.1的Coyote。同时，Tomcat也支持AJP、JServ和JK2连接器。</p>
<h2 id="2-7-Context"><a href="#2-7-Context" class="headerlink" title="2.7 Context"></a>2.7 Context</h2><p>Context组件是最内层次的组件，它表示Web应用程序本身。配置一个Context最主要的是指定Web应用程序的根目录，以便Servlet容器能够将用户请求发往正确的位置。Context组件也可包含自定义的错误页，以实现在用户访问发生错误时提供友好的提示信息。</p>
<h2 id="2-8-Valve"><a href="#2-8-Valve" class="headerlink" title="2.8 Valve"></a>2.8 Valve</h2><p>用来拦截请求并在将其转至目标之前进行某种处理操作，类似于Servlet规范中定义的过滤器。Valve可以定义在任何容器类的组件中。Valve常被用来记录客户端请求、客户端IP地址和服务器等信息，这种处理技术通常被称作请求转储(request dumping)。请求转储valve记录请求客户端请求数据包中的HTTP首部信息和cookie信息文件中，响应转储valve则记录响应数据包首部信息和cookie信息至文件中。</p>
<h1 id="3-连接器"><a href="#3-连接器" class="headerlink" title="3 连接器"></a>3 连接器</h1><p>连接器负责连接客户端请求至Servlet容器内的Web应用程序。此处的<code>客户端</code>可以是web浏览器,也可以是一个服务器，如Apache/Httpd,Nginx等。</p>
<p>较为普遍的就是将浏览器的请求直接连接至应用程序处理。另一中就是将Nginx等服务器的请求连接至应用程序，比如用Nginx按资源类型转发到不同后端服务器。</p>
<h2 id="3-1-连接器协议"><a href="#3-1-连接器协议" class="headerlink" title="3.1 连接器协议"></a>3.1 连接器协议</h2><p>Tomcat的Web服务器连接器支持两种协议：AJP和HTTP</p>
<ul>
<li>AJP(Apache JServ Protocol)</li>
</ul>
<p>目前正在使用的AJP协议的版本是通过JK和JK2连接器提供支持的AJP13，它基于 <font color="red"><strong>二进制</strong></font> 的格式在Web服务器和Tomcat之间传输数据，而此前的版本AJP10和AJP11则使用文本格式传输数据。</p>
<ul>
<li>HTTP</li>
</ul>
<p>使用HTTP或HTTPS协议在Web服务器和Tomcat之间建立通信，此时，Tomcat就是一个完全功能的HTTP服务器，它需要监听在某端口上以接收来自于商前服务器的请求。</p>
<h2 id="3-2-tomcat工作模式"><a href="#3-2-tomcat工作模式" class="headerlink" title="3.2 tomcat工作模式"></a>3.2 tomcat工作模式</h2><ul>
<li>作为应用程序服务器：请求来自于前端的web服务器，这可能是Apache/httpd,Nginx等</li>
<li>作为独立服务器：请求来自于web浏览器</li>
</ul>
<h2 id="3-3-几种Connector"><a href="#3-3-几种Connector" class="headerlink" title="3.3 几种Connector"></a>3.3 几种Connector</h2><ul>
<li>HTTP连接器<ul>
<li>基于java的HTTP/1.1连接器，这也是Tomcat6默认使用的连接器，即Coyote</li>
<li>Java开发的高性能NIO HTTP/1.1连接器,实现不太成熟，有严重bug存在</li>
<li>C/C++开发的native APR:    在负载较大的场景中，此连接器可以提供非常好的性能；APR即Apache Portable Runtime，它是一个能让开发者采用与平台无关的风格的方式来开发C/C++代码本地库，它能够很好的跨Windows,</li>
</ul>
</li>
<li>SSL连接器</li>
<li>AJP 1.3连接器</li>
<li>proxy连接器</li>
</ul>
<h1 id="4-目录结构"><a href="#4-目录结构" class="headerlink" title="4 目录结构"></a>4 目录结构</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line">[root@c2 tomcat-7]# tree  -L 2</div><div class="line">.</div><div class="line">├── bin</div><div class="line">│   ├── bootstrap.jar</div><div class="line">│   ├── catalina.sh</div><div class="line">│   ├── catalina-tasks.xml</div><div class="line">│   ├── commons-daemon.jar</div><div class="line">│   ├── commons-daemon-native.tar.gz</div><div class="line">│   ├── configtest.sh</div><div class="line">│   ├── daemon.sh</div><div class="line">│   ├── digest.sh</div><div class="line">│   ├── setclasspath.sh</div><div class="line">│   ├── shutdown.sh</div><div class="line">│   ├── startup.sh</div><div class="line">│   ├── tomcat-juli.jar</div><div class="line">│   ├── tomcat-native.tar.gz</div><div class="line">│   ├── tool-wrapper.sh</div><div class="line">│   └── version.sh</div><div class="line">├── conf</div><div class="line">│   ├── Catalina</div><div class="line">│   ├── catalina.policy</div><div class="line">│   ├── catalina.properties</div><div class="line">│   ├── context.xml</div><div class="line">│   ├── logging.properties</div><div class="line">│   ├── server.xml</div><div class="line">│   ├── tomcat-users.xml</div><div class="line">│   └── web.xml</div><div class="line">├── lib</div><div class="line">│   ├── annotations-api.jar</div><div class="line">│   ├── catalina-ant.jar</div><div class="line">│   ├── catalina-ha.jar</div><div class="line">│   ├── catalina.jar</div><div class="line">│   ├── catalina-tribes.jar</div><div class="line">│   ├── ecj-4.4.2.jar</div><div class="line">│   ├── el-api.jar</div><div class="line">│   ├── jasper-el.jar</div><div class="line">│   ├── jasper.jar</div><div class="line">│   ├── jsp-api.jar</div><div class="line">│   ├── servlet-api.jar</div><div class="line">│   ├── tomcat7-websocket.jar</div><div class="line">│   ├── tomcat-api.jar</div><div class="line">│   ├── tomcat-coyote.jar</div><div class="line">│   ├── tomcat-dbcp.jar</div><div class="line">│   ├── tomcat-i18n-es.jar</div><div class="line">│   ├── tomcat-i18n-fr.jar</div><div class="line">│   ├── tomcat-i18n-ja.jar</div><div class="line">│   ├── tomcat-jdbc.jar</div><div class="line">│   ├── tomcat-util.jar</div><div class="line">│   └── websocket-api.jar</div><div class="line">├── LICENSE</div><div class="line">├── logs</div><div class="line">├── NOTICE</div><div class="line">├── RELEASE-NOTES</div><div class="line">├── RUNNING.txt</div><div class="line">├── temp</div><div class="line">│   └── safeToDelete.tmp</div><div class="line">├── webapps</div><div class="line">│   ├── docs</div><div class="line">│   ├── examples</div><div class="line">│   ├── host-manager</div><div class="line">│   ├── manager</div><div class="line">│   └── ROOT</div><div class="line">└── work</div><div class="line">    └── Catalina</div></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/tomcat/">tomcat</a></div><div class="post-nav"><a href="/2017/09/14/java秘钥、证书管理工具-keytool/" class="pre">java秘钥、证书管理工具-keytool</a><a href="/2017/09/14/shiro-常用filter/" class="next">shiro-常用filter</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/99-problems-in-scala/">99-problems-in-scala</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-多线程/">Java-多线程</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaSE/">JavaSE</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode/">LeetCode</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NIO/">NIO</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/app-server/">app-server</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/http-server/">http-server</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kafka/">kafka</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/logging/">logging</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/maven/">maven</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/scala/">scala</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spark/">spark</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring-cloud/">spring-cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/zookeeper/">zookeeper</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全/">安全</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/排序/">排序</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/logging/" style="font-size: 15px;">logging</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/LeetCode/" style="font-size: 15px;">LeetCode</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/apache-httpd/" style="font-size: 15px;">apache/httpd</a> <a href="/tags/jt-808/" style="font-size: 15px;">jt-808</a> <a href="/tags/keytool/" style="font-size: 15px;">keytool</a> <a href="/tags/非对称加密/" style="font-size: 15px;">非对称加密</a> <a href="/tags/kafka/" style="font-size: 15px;">kafka</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/NIO/" style="font-size: 15px;">NIO</a> <a href="/tags/scala/" style="font-size: 15px;">scala</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/安全/" style="font-size: 15px;">安全</a> <a href="/tags/spark/" style="font-size: 15px;">spark</a> <a href="/tags/spring-cloud/" style="font-size: 15px;">spring-cloud</a> <a href="/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/zookeeper/" style="font-size: 15px;">zookeeper</a> <a href="/tags/bit/" style="font-size: 15px;">bit</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/排序/" style="font-size: 15px;">排序</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/java多线程-01-基本概念/">java多线程-01-基本概念</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/problem01-05/">problem01-05</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/git-01-简介、安装和配置/">git-01-简介、安装和配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/httpd系列-00-安装/">httpd系列-00-安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/排序算法-01-冒泡排序/">排序算法-01-冒泡排序排序算法-01-冒泡排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/java秘钥、证书管理工具-keytool/">java秘钥、证书管理工具-keytool</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/tomcat系列-01-名词解释/">tomcat系列-01-名词解释</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/shiro-常用filter/">shiro-常用filter</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/docker筑基篇-00-docker简介/">docker筑基篇-00-docker简介</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/常见加密类型及通信安全/">常见加密类型及通信安全</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">宛丘.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>
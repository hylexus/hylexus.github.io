<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>redis-03-数据类型 | 宛丘</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">redis-03-数据类型</h1><a id="logo" href="/.">宛丘</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">redis-03-数据类型</h1><div class="post-meta">Mar 25, 2017<span> | </span><span class="category"><a href="/categories/redis/">redis</a></span></div><div class="post-content"><h1 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h1><p>本篇文章并没任何的技术含量。<br>只是本人的命令练习记录，以备以后查看。</p>
<p>[TOC]</p>
<h1 id="1-redis-基础命令"><a href="#1-redis-基础命令" class="headerlink" title="1 redis 基础命令"></a>1 redis 基础命令</h1><p>在看基本数据类型之前，先来看看redis的key相关的知识点。</p>
<h2 id="1-1-keys"><a href="#1-1-keys" class="headerlink" title="1.1 keys"></a>1.1 keys</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; keys *</div><div class="line">1) "counter:__rand_int__"</div><div class="line">2) "mylist"</div><div class="line">3) "key:__rand_int__"</div><div class="line">4) "k1"</div></pre></td></tr></table></figure>
<h2 id="1-2-exists"><a href="#1-2-exists" class="headerlink" title="1.2 exists"></a>1.2 exists</h2><p>判断某个key是否存在</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; EXISTS k1</div><div class="line">(integer) 1 # 1表示存在</div><div class="line">127.0.0.1:6379&gt; EXISTS k11</div><div class="line">(integer) 0 # 0表示不存在</div></pre></td></tr></table></figure>
<h2 id="1-3-move"><a href="#1-3-move" class="headerlink" title="1.3 move"></a>1.3 move</h2><p>指定键，移动数据至指定的DB。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">move key db-index</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; keys *</div><div class="line">(empty list or set)</div><div class="line">127.0.0.1:6379&gt; set k1 v1</div><div class="line">OK</div><div class="line">127.0.0.1:6379&gt; set k2 v2</div><div class="line">OK</div><div class="line">127.0.0.1:6379&gt; keys *</div><div class="line">1) "k2"</div><div class="line">2) "k1"</div><div class="line">127.0.0.1:6379&gt; MOVE k1 6 # 将k1移动至6号库</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; keys *</div><div class="line">1) "k2"</div><div class="line">127.0.0.1:6379&gt; SELECT 6</div><div class="line">OK</div><div class="line">127.0.0.1:6379[6]&gt; keys *</div><div class="line">1) "k1"</div></pre></td></tr></table></figure>
<h2 id="1-4-expire"><a href="#1-4-expire" class="headerlink" title="1.4 expire"></a>1.4 expire</h2><p>为给定 <code>key</code> 设置生存时间，当 <code>key</code> 过期时(生存时间为 <code>0</code> )，它会被自动删除。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expire key seconds</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379[6]&gt; set k1 v1</div><div class="line">OK</div><div class="line">127.0.0.1:6379[6]&gt; set k2 v2</div><div class="line">OK</div><div class="line">127.0.0.1:6379[6]&gt; EXPIRE k1 10 # 10秒之后,k1被删除</div><div class="line">(integer) 1</div></pre></td></tr></table></figure>
<h2 id="1-5-ttl"><a href="#1-5-ttl" class="headerlink" title="1.5 ttl"></a>1.5 ttl</h2><p>返回key剩余的过期时间。</p>
<ul>
<li>在Redis 2.6和之前版本</li>
<li>如果key不存在或者已过期时返回<code>-1</code>。</li>
<li>从Redis2.8开始</li>
<li>如果key不存在或者已过期，返回 <code>-2</code></li>
<li>如果key没有设置过期时间（永久有效），返回 <code>-1</code> 。</li>
</ul>
<h2 id="1-6-type"><a href="#1-6-type" class="headerlink" title="1.6 type"></a>1.6 type</h2><p>返回<code>key</code>所存储的<code>value</code>的数据结构类型，比如<code>string</code>, <code>list</code>, <code>set</code>, <code>zset</code> 和 <code>hash</code>等不同的类型。</p>
<h1 id="2-redis-五大数据类型-简介"><a href="#2-redis-五大数据类型-简介" class="headerlink" title="2 redis-五大数据类型-简介"></a>2 redis-五大数据类型-简介</h1><ul>
<li>string</li>
</ul>
<p>string具有其他语言中的字符串的特性。string类型是Redis最基本的数据类型，一个redis中字符串value最多可以是512M </p>
<p>string类型是二进制安全的。意思是redis的string可以包含任何数据。比如jpg图片或者序列化的对象 。</p>
<ul>
<li>list</li>
</ul>
<p>list是一个字符串列表，按照插入顺序排序。</p>
<ul>
<li>hash</li>
</ul>
<p>我的第一映像就是Java里的<code>Map&lt;String,Object&gt;</code>。<br>很相似，但不尽相同。</p>
<ul>
<li>set</li>
</ul>
<p>和Java的<code>Set&lt;String&gt;</code>类似，是一个无序的字符串集合。</p>
<ul>
<li>zset</li>
</ul>
<p>和set的不同之处是，zset的每个元素都会关联一个double类型的score。</p>
<h1 id="3-string"><a href="#3-string" class="headerlink" title="3 string"></a>3 string</h1><h2 id="3-1-set-get-append-strlen-del"><a href="#3-1-set-get-append-strlen-del" class="headerlink" title="3.1 set/get/append/strlen/del"></a>3.1 set/get/append/strlen/del</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379[6]&gt; FLUSHALL</div><div class="line">OK</div><div class="line">127.0.0.1:6379[6]&gt; set k1 a</div><div class="line">OK</div><div class="line">127.0.0.1:6379[6]&gt; get k1 # 为k1设置值为"a"</div><div class="line">"a"</div><div class="line">127.0.0.1:6379[6]&gt; APPEND k1 bcd # 为k1追加"bcd"</div><div class="line">(integer) 4</div><div class="line">127.0.0.1:6379[6]&gt; get k1</div><div class="line">"abcd"</div><div class="line">127.0.0.1:6379[6]&gt; STRLEN k1 # 查看长度</div><div class="line">(integer) 4</div><div class="line">127.0.0.1:6379[6]&gt; DEL k1</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379[6]&gt; keys *</div><div class="line">(empty list or set)</div></pre></td></tr></table></figure>
<h2 id="3-2-incr-incrby-decr-decrby"><a href="#3-2-incr-incrby-decr-decrby" class="headerlink" title="3.2 incr/incrby/decr/decrby"></a>3.2 incr/incrby/decr/decrby</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379[6]&gt; FLUSHALL</div><div class="line">OK</div><div class="line">127.0.0.1:6379[6]&gt; set k1 1</div><div class="line">OK</div><div class="line">127.0.0.1:6379[6]&gt; get k1</div><div class="line">"1"</div><div class="line">127.0.0.1:6379[6]&gt; INCR k1</div><div class="line">(integer) 2</div><div class="line">127.0.0.1:6379[6]&gt; INCR k1</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379[6]&gt; INCRBY k1 5 # 指定递增的步径长度为5</div><div class="line">(integer) 8</div><div class="line">127.0.0.1:6379[6]&gt; INCRBY k1 5 # 指定递减的步径长度为3</div><div class="line">(integer) 13</div><div class="line">127.0.0.1:6379[6]&gt; DECR k1</div><div class="line">(integer) 12</div><div class="line">127.0.0.1:6379[6]&gt; DECRBY k1 3</div><div class="line">(integer) 9</div><div class="line">127.0.0.1:6379[6]&gt;</div></pre></td></tr></table></figure>
<h2 id="3-3-getrange-setrange"><a href="#3-3-getrange-setrange" class="headerlink" title="3.3 getrange/setrange"></a>3.3 getrange/setrange</h2><ul>
<li>getrange key start end</li>
<li>用来取子串的命令</li>
<li>start和end的取值和<code>Python</code>中的<code>切片</code>类似</li>
<li>setrange key offset value</li>
<li>从指定的offset处开始，覆盖value的长度</li>
<li>如果<code>offset&gt;strlen(key)</code>,则在<code>key</code>对应的值后补<code>offset-strlen(key)</code>个<code>零</code>后继续追加<code>key</code></li>
<li>不存在的<code>key</code>被认为是<code>空字符串</code></li>
<li>offset最大可以是2^29-1(536870911)</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379[6]&gt; set k "abcdefgh"</div><div class="line">OK</div><div class="line">127.0.0.1:6379[6]&gt; SETRANGE k 1 "x"</div><div class="line">(integer) 8</div><div class="line">127.0.0.1:6379[6]&gt; get k</div><div class="line">"axcdefgh"</div><div class="line">127.0.0.1:6379[6]&gt; SETRANGE k 1 "yy"</div><div class="line">(integer) 8</div><div class="line">127.0.0.1:6379[6]&gt; get k</div><div class="line">"ayydefgh"</div><div class="line">127.0.0.1:6379[6]&gt; SETRANGE k 1 "yyyyyyyyyy"</div><div class="line">(integer) 11</div><div class="line">127.0.0.1:6379[6]&gt; get k</div><div class="line">"ayyyyyyyyyy"</div><div class="line">127.0.0.1:6379[6]&gt; setrange k 15 "123x"</div><div class="line">(integer) 19</div><div class="line">127.0.0.1:6379[6]&gt; get k</div><div class="line">"ayyyyyyyyyy\x00\x00\x00\x00123x"</div><div class="line"><span class="meta">#</span><span class="bash"> 此处的k88本来不存在,视为空字符串处理</span></div><div class="line">127.0.0.1:6379[6]&gt; SETRANGE k88 3 "haha" </div><div class="line">(integer) 7</div><div class="line">127.0.0.1:6379[6]&gt; get k88</div><div class="line">"\x00\x00\x00haha" # 视为空字符串处理所以前补3个零</div><div class="line">127.0.0.1:6379[6]&gt;</div></pre></td></tr></table></figure>
<h2 id="3-4-setex-getnx"><a href="#3-4-setex-getnx" class="headerlink" title="3.4 setex/getnx"></a>3.4 setex/getnx</h2><ul>
<li>setex(set with expire)</li>
</ul>
<ul>
<li>set的同时，给key指定一个过期时间</li>
</ul>
<ul>
<li>setnx(set if not exists)</li>
</ul>
<ul>
<li>如果key不存在,则set值</li>
<li>return 1 如果key被设置成功</li>
<li>return 0 如果key没有被设置成功</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> 设置值的同时指定8秒后过期</span></div><div class="line">127.0.0.1:6379[6]&gt; SETEX k88 10 "haha"</div><div class="line">OK</div><div class="line">127.0.0.1:6379&gt; SETNX k1 111 # 如果k1不存在则设置k1为111</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; get k1</div><div class="line">"111"</div><div class="line">127.0.0.1:6379&gt; SETNX k1 222 # k1已经存在,故不生效</div><div class="line">(integer) 0</div><div class="line">127.0.0.1:6379&gt; get k1</div><div class="line">"111"</div></pre></td></tr></table></figure>
<h2 id="3-5-mset-mget-msetnx"><a href="#3-5-mset-mget-msetnx" class="headerlink" title="3.5 mset/mget/msetnx"></a>3.5 mset/mget/msetnx</h2><ul>
<li>mset k1 v1 [k2,v2 …]</li>
<li>mget</li>
<li>msetnx k1 v1 [k2,v2 …]</li>
</ul>
<ul>
<li>只要有一个key已经存在，就会失败</li>
<li>return 1，所有的key都被设置成功</li>
<li>return 0，所有的key都没有被设置(至少一个key已经存在)</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; MSET k1 v1 k2 v2 k3 v3</div><div class="line">OK</div><div class="line">127.0.0.1:6379&gt; get k1</div><div class="line">"v1"</div><div class="line">127.0.0.1:6379&gt; MGET k1 k2 k3</div><div class="line">1) "v1"</div><div class="line">2) "v2"</div><div class="line">3) "v3"</div></pre></td></tr></table></figure>
<h1 id="4-list"><a href="#4-list" class="headerlink" title="4 list"></a>4 list</h1><h2 id="4-1-lpush-rpush-lrange"><a href="#4-1-lpush-rpush-lrange" class="headerlink" title="4.1 lpush/rpush/lrange"></a>4.1 lpush/rpush/lrange</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; LPUSH l1 1 2 3 4 5 6</div><div class="line">(integer) 6</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 2</div><div class="line">1) "6"</div><div class="line">2) "5"</div><div class="line">3) "4"</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "6"</div><div class="line">2) "5"</div><div class="line">3) "4"</div><div class="line">4) "3"</div><div class="line">5) "2"</div><div class="line">6) "1"</div><div class="line">127.0.0.1:6379&gt; LSET l1 2 "abc"</div><div class="line">OK</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "6"</div><div class="line">2) "5"</div><div class="line">3) "abc"</div><div class="line">4) "3"</div><div class="line">5) "2"</div><div class="line">6) "1"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h2 id="4-2-lpop-rpop-lindex-llen"><a href="#4-2-lpop-rpop-lindex-llen" class="headerlink" title="4.2 lpop/rpop/lindex/llen"></a>4.2 lpop/rpop/lindex/llen</h2><ul>
<li>llen</li>
</ul>
<ul>
<li>如果 key 不存在，那么就被看作是空list，并且返回长度为 0</li>
<li>存储在 key 里的值不是一个list的话，会返回error</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; LPUSH l1 1 2 3 4 5</div><div class="line">(integer) 5</div><div class="line">127.0.0.1:6379&gt; LPOP l1</div><div class="line">"5"</div><div class="line">127.0.0.1:6379&gt; RPOP l1</div><div class="line">"1"</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "4"</div><div class="line">2) "3"</div><div class="line">3) "2"</div><div class="line"></div><div class="line">127.0.0.1:6379&gt; RPUSH l2 1 2 3 4 5</div><div class="line">(integer) 5</div><div class="line">127.0.0.1:6379&gt; LPOP l2</div><div class="line">"1"</div><div class="line">127.0.0.1:6379&gt; RPOP l2</div><div class="line">"5"</div><div class="line">127.0.0.1:6379&gt; LRANGE l2 0 -1</div><div class="line">1) "2"</div><div class="line">2) "3"</div><div class="line">3) "4"</div><div class="line"></div><div class="line">127.0.0.1:6379&gt; RPUSH l3 1 2 3 4</div><div class="line">(integer) 4</div><div class="line">127.0.0.1:6379&gt; LINDEX l3 0</div><div class="line">"1"</div><div class="line">127.0.0.1:6379&gt; LINDEX l3 2</div><div class="line">"3"</div><div class="line"></div><div class="line">127.0.0.1:6379&gt; LLEN l3</div><div class="line">(integer) 4</div></pre></td></tr></table></figure>
<h2 id="4-3-lrem-ltrim"><a href="#4-3-lrem-ltrim" class="headerlink" title="4.3 lrem/ltrim"></a>4.3 lrem/ltrim</h2><ul>
<li>lrem key count value</li>
</ul>
<ul>
<li>count&gt;0 : 从头到尾移除count个值为value的元素</li>
<li>count&lt;0 : 从尾到头移除count个值为value的元素</li>
<li>count==0: 删除所有值为value的元素</li>
</ul>
<ul>
<li>ltrim key start end</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; RPUSH l1 a b c a c d e a d a</div><div class="line">(integer) 10</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line"> 1) "a"</div><div class="line"> 2) "b"</div><div class="line"> 3) "c"</div><div class="line"> 4) "a"</div><div class="line"> 5) "c"</div><div class="line"> 6) "d"</div><div class="line"> 7) "e"</div><div class="line"> 8) "a"</div><div class="line"> 9) "d"</div><div class="line">10) "a"</div><div class="line"><span class="meta">#</span><span class="bash"> 从头到尾删除两个值为a的元素</span></div><div class="line">127.0.0.1:6379&gt; LREM l1 2 a</div><div class="line">(integer) 2</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "b"</div><div class="line">2) "c"</div><div class="line">3) "c"</div><div class="line">4) "d"</div><div class="line">5) "e"</div><div class="line">6) "a"</div><div class="line">7) "d"</div><div class="line">8) "a"</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 从尾到头删除一个值为d的元素</span></div><div class="line">127.0.0.1:6379&gt; LREM l1 -1 d</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "b"</div><div class="line">2) "c"</div><div class="line">3) "c"</div><div class="line">4) "d"</div><div class="line">5) "e"</div><div class="line">6) "a"</div><div class="line">7) "a"</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 删除所有值为c的元素</span></div><div class="line">127.0.0.1:6379&gt; LREM l1 0 c</div><div class="line">(integer) 2</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "b"</div><div class="line">2) "d"</div><div class="line">3) "e"</div><div class="line">4) "a"</div><div class="line">5) "a"</div><div class="line"></div><div class="line"></div><div class="line">127.0.0.1:6379&gt; RPUSH l2 a b c d a c e</div><div class="line">(integer) 7</div><div class="line"><span class="meta">#</span><span class="bash"> 只保留索引为2-4的元素</span></div><div class="line">127.0.0.1:6379&gt; LTRIM l2 2 4</div><div class="line">OK</div><div class="line">127.0.0.1:6379&gt; LRANGE l2 0 -1</div><div class="line">1) "c"</div><div class="line">2) "d"</div><div class="line">3) "a"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h2 id="4-4-rpoplpush"><a href="#4-4-rpoplpush" class="headerlink" title="4.4 rpoplpush"></a>4.4 rpoplpush</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; RPUSH l1 1 2 3</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; RPUSH l2 a b c</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; RPOPLPUSH l1 l2</div><div class="line">"3"</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "1"</div><div class="line">2) "2"</div><div class="line">127.0.0.1:6379&gt; LRANGE l2 0 -1</div><div class="line">1) "3"</div><div class="line">2) "a"</div><div class="line">3) "b"</div><div class="line">4) "c"</div></pre></td></tr></table></figure>
<h2 id="4-5-linsert"><a href="#4-5-linsert" class="headerlink" title="4.5 linsert"></a>4.5 linsert</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; RPUSH l1 1 2 3</div><div class="line">(integer) 3</div><div class="line"><span class="meta">#</span><span class="bash"> 给l1中的元素3前面插入元素</span></div><div class="line">127.0.0.1:6379&gt; LINSERT l1 before 3 "newVal"</div><div class="line">(integer) 4</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "1"</div><div class="line">2) "2"</div><div class="line">3) "newVal"</div><div class="line">4) "3"</div><div class="line"><span class="meta">#</span><span class="bash"> 给l1中的元素<span class="string">"newVal"</span>后面插入元素</span></div><div class="line">127.0.0.1:6379&gt; LINSERT l1 after "newVal" "anotherNewVal"</div><div class="line">(integer) 5</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "1"</div><div class="line">2) "2"</div><div class="line">3) "newVal"</div><div class="line">4) "anotherNewVal"</div><div class="line">5) "3"</div><div class="line"><span class="meta">#</span><span class="bash"> 在值为<span class="string">"ha"</span>的元素后面插入</span></div><div class="line">127.0.0.1:6379&gt; LINSERT l1 after "ha" "o..."</div><div class="line"><span class="meta">#</span><span class="bash"> <span class="string">"ha"</span>不存在，返回-1</span></div><div class="line">(integer) -1</div><div class="line">127.0.0.1:6379&gt; LRANGE l1 0 -1</div><div class="line">1) "1"</div><div class="line">2) "2"</div><div class="line">3) "newVal"</div><div class="line">4) "anotherNewVal"</div><div class="line">5) "3"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h1 id="5-set"><a href="#5-set" class="headerlink" title="5 set"></a>5 set</h1><h2 id="5-1-sadd-smembers-sismember-srem-scard"><a href="#5-1-sadd-smembers-sismember-srem-scard" class="headerlink" title="5.1 sadd/smembers/sismember/srem/scard"></a>5.1 sadd/smembers/sismember/srem/scard</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; SADD s1 1 2 3 1 2 3 1</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; SMEMBERS s1</div><div class="line">1) "1"</div><div class="line">2) "2"</div><div class="line">3) "3"</div><div class="line">127.0.0.1:6379&gt; SISMEMBER s1 2 # contains</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; SISMEMBER s1 111</div><div class="line">(integer) 0</div><div class="line"></div><div class="line">127.0.0.1:6379&gt; SCARD s1 # count</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; SREM s1 2 # del</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; SMEMBERS s1</div><div class="line">1) "1"</div><div class="line">2) "3"</div></pre></td></tr></table></figure>
<h2 id="5-2-srandmember-spop"><a href="#5-2-srandmember-spop" class="headerlink" title="5.2 srandmember/spop"></a>5.2 srandmember/spop</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; SADD s2 0 1 2 3 4 5 6 7 8 9</div><div class="line">(integer) 10</div><div class="line"><span class="meta">#</span><span class="bash"> srandmember并不会删除元素</span></div><div class="line">127.0.0.1:6379&gt; SRANDMEMBER s2 3 # 随机获取三个成员</div><div class="line">1) "8"</div><div class="line">2) "7"</div><div class="line">3) "6"</div><div class="line">127.0.0.1:6379&gt; SRANDMEMBER s2 3</div><div class="line">1) "8"</div><div class="line">2) "2"</div><div class="line">3) "4"</div><div class="line">127.0.0.1:6379&gt; SRANDMEMBER s2 3</div><div class="line">1) "2"</div><div class="line">2) "7"</div><div class="line">3) "4"</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> spop会删除元素</span></div><div class="line">127.0.0.1:6379&gt; spop s2 2</div><div class="line">1) "2"</div><div class="line">2) "7"</div><div class="line">127.0.0.1:6379&gt; spop s2 2</div><div class="line">1) "5"</div><div class="line">2) "9"</div><div class="line">127.0.0.1:6379&gt; spop s2 2</div><div class="line">1) "8"</div><div class="line">2) "4"</div><div class="line">127.0.0.1:6379&gt; SMEMBERS s2</div><div class="line">1) "0"</div><div class="line">2) "1"</div><div class="line">3) "3"</div><div class="line">4) "6"</div></pre></td></tr></table></figure>
<h2 id="5-3-smove"><a href="#5-3-smove" class="headerlink" title="5.3 smove"></a>5.3 smove</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; sadd s1 1 2 3</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; SADD s2 a b c</div><div class="line">(integer) 3</div><div class="line"><span class="meta">#</span><span class="bash"> 将s1中的值为2的元素移动到集合s2中</span></div><div class="line">127.0.0.1:6379&gt; SMOVE s1 s2 2</div><div class="line">(integer) 1 # return 1 ==&gt; 成功</div><div class="line">127.0.0.1:6379&gt; SMEMBERS s1</div><div class="line">1) "1"</div><div class="line">2) "3"</div><div class="line">127.0.0.1:6379&gt; SMEMBERS s2</div><div class="line">1) "2"</div><div class="line">2) "c"</div><div class="line">3) "b"</div><div class="line">4) "a"</div><div class="line">127.0.0.1:6379&gt; SMOVE s1 s2 -1</div><div class="line">(integer) 0 # return 0 ==&gt; 移动失败</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h2 id="5-4-数学集合操作"><a href="#5-4-数学集合操作" class="headerlink" title="5.4 数学集合操作"></a>5.4 数学集合操作</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; SADD s1 1 2 3</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; SADD s2 2 3 a b</div><div class="line">(integer) 4</div><div class="line">127.0.0.1:6379&gt; SINTER s2 s1 # 交集</div><div class="line">1) "2"</div><div class="line">2) "3"</div><div class="line">127.0.0.1:6379&gt; SUNION s1 s2 # 并集</div><div class="line">1) "3"</div><div class="line">2) "2"</div><div class="line">3) "b"</div><div class="line">4) "1"</div><div class="line">5) "a"</div><div class="line">127.0.0.1:6379&gt; SDIFF s1 s2 # 差集</div><div class="line">1) "1"</div><div class="line">127.0.0.1:6379&gt; SDIFF s2 s1 # 差集</div><div class="line">1) "a"</div><div class="line">2) "b"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h1 id="6-hash"><a href="#6-hash" class="headerlink" title="6 hash"></a>6 hash</h1><h2 id="6-1-hget-hset-hmset-hmget-hgetall"><a href="#6-1-hget-hset-hmset-hmget-hgetall" class="headerlink" title="6.1 hget/hset/hmset/hmget/hgetall"></a>6.1 hget/hset/hmset/hmget/hgetall</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; HSET user id 1</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; HSET user name "tom"</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; HGET user id</div><div class="line">"1"</div><div class="line">127.0.0.1:6379&gt; HGET user name</div><div class="line">"tom"</div><div class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">set</span> user.name=<span class="string">"apache"</span>,user.age=24,user.sex=<span class="string">"male"</span></span></div><div class="line">127.0.0.1:6379&gt; HMSET user name "apache" age 24 sex "male"</div><div class="line">OK</div><div class="line">127.0.0.1:6379&gt; HGET user age</div><div class="line">"24"</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> get user.id,user.name,user.age,user.sex</span></div><div class="line">127.0.0.1:6379&gt; HMGET user id name age sex </div><div class="line">1) "1"</div><div class="line">2) "apache"</div><div class="line">3) "24"</div><div class="line">4) "male"</div><div class="line"></div><div class="line">127.0.0.1:6379&gt; HGETALL user</div><div class="line">1) "id"</div><div class="line">2) "1"</div><div class="line">3) "name"</div><div class="line">4) "apache"</div><div class="line">5) "age"</div><div class="line">6) "24"</div><div class="line">7) "sex"</div><div class="line">8) "male"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h2 id="6-2-hlen-hdel-hkeys-hvals"><a href="#6-2-hlen-hdel-hkeys-hvals" class="headerlink" title="6.2 hlen/hdel/hkeys/hvals"></a>6.2 hlen/hdel/hkeys/hvals</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; HDEL user age sex # del user.age ,del user.sex</div><div class="line">(integer) 2</div><div class="line">127.0.0.1:6379&gt; HGETALL user</div><div class="line">1) "id"</div><div class="line">2) "1"</div><div class="line">3) "name"</div><div class="line">4) "apache"</div><div class="line">127.0.0.1:6379&gt; HLEN user</div><div class="line">(integer) 2</div><div class="line"><span class="meta">#</span><span class="bash"> user.keySet()</span></div><div class="line">127.0.0.1:6379&gt; HKEYS user</div><div class="line">1) "id"</div><div class="line">2) "name"</div><div class="line"><span class="meta">#</span><span class="bash"> user.values()</span></div><div class="line">127.0.0.1:6379&gt; HVALS user</div><div class="line">1) "1"</div><div class="line">2) "apache"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h2 id="6-3-hincrby-hIncrByFloat"><a href="#6-3-hincrby-hIncrByFloat" class="headerlink" title="6.3 hincrby/hIncrByFloat"></a>6.3 hincrby/hIncrByFloat</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; HSET u age 1</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; HINCRBY u age 1 # u.age++</div><div class="line">(integer) 2</div><div class="line">127.0.0.1:6379&gt; HINCRBY u age 1 # u.age++</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; HINCRBY u age 1 # u.age++</div><div class="line">(integer) 4</div><div class="line">127.0.0.1:6379&gt; HGET u age</div><div class="line">"4"</div><div class="line">127.0.0.1:6379&gt; HINCRBY u age 10 # u.age += 10</div><div class="line">(integer) 14</div><div class="line">127.0.0.1:6379&gt; HGET u age</div><div class="line">"14"</div><div class="line">127.0.0.1:6379&gt; HINCRBY u age -2 # u.age -= 2</div><div class="line">(integer) 12</div><div class="line"></div><div class="line">127.0.0.1:6379&gt; HINCRBYFLOAT u age 1.2 # u.age += 1.2</div><div class="line">"13.2"</div><div class="line">127.0.0.1:6379&gt; HINCRBYFLOAT u age 1.5 # u.age += 1.5</div><div class="line">"14.7"</div><div class="line">127.0.0.1:6379&gt; HINCRBYFLOAT u age -1.5 # u.age -= 1.5</div><div class="line">"13.2"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h2 id="6-4-hsetnx"><a href="#6-4-hsetnx" class="headerlink" title="6.4 hsetnx"></a>6.4 hsetnx</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; FLUSHALL</div><div class="line">OK</div><div class="line">127.0.0.1:6379&gt; HSET user id 1</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; HSETNX user name "tom" # 不存在,则设置值</div><div class="line">(integer) 1</div><div class="line">127.0.0.1:6379&gt; HSETNX user name "tom" # 存在,则无效</div><div class="line">(integer) 0</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h1 id="7-zset"><a href="#7-zset" class="headerlink" title="7 zset"></a>7 zset</h1><h2 id="7-1-zadd-zrange"><a href="#7-1-zadd-zrange" class="headerlink" title="7.1 zadd/zrange"></a>7.1 zadd/zrange</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; ZADD z1 1 v1 2 v2 3 v3</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; ZRANGE z1 0 -1</div><div class="line">1) "v1"</div><div class="line">2) "v2"</div><div class="line">3) "v3"</div><div class="line">127.0.0.1:6379&gt; ZRANGE z1 0 -1 withscores</div><div class="line">1) "v1"</div><div class="line">2) "1"</div><div class="line">3) "v2"</div><div class="line">4) "2"</div><div class="line">5) "v3"</div><div class="line">6) "3"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h2 id="7-2-zRangeByScore"><a href="#7-2-zRangeByScore" class="headerlink" title="7.2 zRangeByScore"></a>7.2 zRangeByScore</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> 1 &lt;= score &lt;= 2</span></div><div class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE z1 1 2</div><div class="line">1) "v1"</div><div class="line">2) "v2"</div><div class="line"><span class="meta">#</span><span class="bash"> 1 &lt;= score &lt;= 2 同时获取score</span></div><div class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE z1 1 2 withscores</div><div class="line">1) "v1"</div><div class="line">2) "1"</div><div class="line">3) "v2"</div><div class="line">4) "2"</div><div class="line"><span class="meta">#</span><span class="bash"> 1 &lt;= score &lt; 2 </span></div><div class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE z1 1 (2</div><div class="line">1) "v1"</div><div class="line"><span class="meta">#</span><span class="bash"> 1 &lt;= score &lt; 2 同时获取score</span></div><div class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE z1 1 (2 withscores</div><div class="line">1) "v1"</div><div class="line">2) "1"</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 再次添加元素v4,v5</span></div><div class="line">127.0.0.1:6379&gt; ZADD z1 4 v4 5 v5</div><div class="line">(integer) 2</div><div class="line">127.0.0.1:6379&gt; ZRANGE z1 0 -1</div><div class="line">1) "v1"</div><div class="line">2) "v2"</div><div class="line">3) "v3"</div><div class="line">4) "v4"</div><div class="line">5) "v5"</div><div class="line"><span class="meta">#</span><span class="bash"> 2 &lt;= score &lt;= 4</span></div><div class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE z1 2 4</div><div class="line">1) "v2"</div><div class="line">2) "v3"</div><div class="line">3) "v4"</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 此处的<span class="built_in">limit</span>和MySQL类似</span></div><div class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE z1 2 4 limit 2 1</div><div class="line">1) "v4"</div><div class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE z1 2 4 limit 0 1</div><div class="line">1) "v2"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h2 id="7-3-zrem-zcard-zcount"><a href="#7-3-zrem-zcard-zcount" class="headerlink" title="7.3 zrem/zcard/zcount"></a>7.3 zrem/zcard/zcount</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:6379&gt; ZADD z2 1 v1 2 v2 3 v3</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; ZCARD z2 # size of z2</div><div class="line">(integer) 3</div><div class="line">127.0.0.1:6379&gt; ZREM z2 v2 v3 # del v2,v3</div><div class="line">(integer) 2</div><div class="line">127.0.0.1:6379&gt; ZRANGE z2 0 -1</div><div class="line">1) "v1"</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 1 &lt;= score &lt;=5 的元素的个数</span></div><div class="line">127.0.0.1:6379&gt; ZCOUNT z2 1 5</div><div class="line">(integer) 1</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 获取v1的score</span></div><div class="line">127.0.0.1:6379&gt; ZSCORE z2 v1</div><div class="line">"1"</div><div class="line">127.0.0.1:6379&gt;</div></pre></td></tr></table></figure>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li>尚硅谷思维导图资料</li>
<li><a href="http://www.redis.cn/commands.html" target="_blank" rel="external">http://www.redis.cn/commands.html</a></li>
<li><a href="https://redis.io/commands" target="_blank" rel="external">https://redis.io/commands</a></li>
</ul>
</div><div class="tags"><a href="/tags/redis/">redis</a></div><div class="post-nav"><a href="/2017/03/26/redis-04-配置文件/" class="pre">redis-04-配置文件</a><a href="/2017/03/25/redis-02-基础知识/" class="next">redis-02-基础知识</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/99-problems-in-scala/">99-problems-in-scala</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-多线程/">Java-多线程</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaSE/">JavaSE</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode/">LeetCode</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NIO/">NIO</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/app-server/">app-server</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/http-server/">http-server</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kafka/">kafka</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/logging/">logging</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/maven/">maven</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/scala/">scala</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spark/">spark</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring-cloud/">spring-cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/zookeeper/">zookeeper</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全/">安全</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/排序/">排序</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/logging/" style="font-size: 15px;">logging</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/jt-808/" style="font-size: 15px;">jt-808</a> <a href="/tags/LeetCode/" style="font-size: 15px;">LeetCode</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/apache-httpd/" style="font-size: 15px;">apache/httpd</a> <a href="/tags/lambda/" style="font-size: 15px;">lambda</a> <a href="/tags/bit/" style="font-size: 15px;">bit</a> <a href="/tags/kafka/" style="font-size: 15px;">kafka</a> <a href="/tags/keytool/" style="font-size: 15px;">keytool</a> <a href="/tags/非对称加密/" style="font-size: 15px;">非对称加密</a> <a href="/tags/NIO/" style="font-size: 15px;">NIO</a> <a href="/tags/scala/" style="font-size: 15px;">scala</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/spark/" style="font-size: 15px;">spark</a> <a href="/tags/安全/" style="font-size: 15px;">安全</a> <a href="/tags/spring-cloud/" style="font-size: 15px;">spring-cloud</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/tags/zookeeper/" style="font-size: 15px;">zookeeper</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/排序/" style="font-size: 15px;">排序</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/java多线程-01-基本概念/">java多线程-01-基本概念</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/排序算法-01-冒泡排序/">排序算法-01-冒泡排序排序算法-01-冒泡排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/常见加密类型及通信安全/">常见加密类型及通信安全</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/git-01-简介、安装和配置/">git-01-简介、安装和配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/httpd系列-00-安装/">httpd系列-00-安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/shiro-常用filter/">shiro-常用filter</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/httpd系列-04-基于openSSL配置HTTPS/">httpd系列-04-基于openSSL配置HTTPS</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/problem01-05/">problem01-05</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/java秘钥、证书管理工具-keytool/">java秘钥、证书管理工具-keytool</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/git-02-基本操作/">git-02-基本操作</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">宛丘.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>